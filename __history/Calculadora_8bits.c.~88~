#include <18F4620.h>
#define _bif
#define int13 long
#fuses INTRC_IO, NOFCMEN, NOIESO, PUT, NOBROWNOUT, NOWDT
#fuses NOPBADEN, NOMCLR, STVREN, NOLVP, NODEBUG
#use delay(clock=32000000)
#use standard_io(b)
#define retardo 500
#define PIN_F0 31744
#define PIN_F1 31745
#define PIN_F2 31746
#define PIN_F3 31747
#define PIN_F4 31748
#define PIN_F5 31749
#define PIN_F6 31750
#define PIN_F7 31751
_bif void output_f(int8 value);

void error();

void main (void){
   set_tris_a(0b00000000); //habilito port como input
   set_tris_e(0b00000000); //habilito port como input
   
   int13 resultado=0;
   int8 operacion=0;
   int8 operando1=0,operando2=0;
   setup_oscillator(OSC_32MHZ);
   SETUP_ADC_PORTS(0X00);
   while(True){
   operando1=input_c();
   operando2=input_d();
   output_f(0b00000000);
   /*si el pushboton es precionado, esto tendra un valor decimal o binario
   como se quiera representar y cada valor tendra su operacion
   8 es +, 16 es -, 32 es * y 64 es /
   */
   operacion=input(PIN_A4); // guarda valor 0b00001000;+
   operacion=input(PIN_B4); // guarda valor 0b00010000;-
   operacion=input(PIN_B5); // guarda valor 0b00100000;*
   operacion=input(PIN_B6); // guarda valor 0b01000000;/
   if(operacion == 8)
   {
   resultado = operando1 + operando2;
   }
   if(operacion == 16)
   {
   resultado = operando1 - operando2;
   }
   if(operacion == 32)
   {
   resultado = operando1 * operando2;
   }
   if(operacion == 64)
   {
   if(input_d()==0)
   {
   error();
   break;
   }
   resultado = operando1 / operando2;
   }
   }
}   
void error()
{
   int i;
   for(i=0;i<5;i++)
   {
   output_a(0b11111111);
   output_b(0b10000111);
   output_e(1);
   delay_ms(retardo);
   output_a(0b00000000);
   output_b(0b00000000);
   output_e(0);
   delay_ms(retardo);
   }
}
